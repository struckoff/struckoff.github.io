<html><head><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> 
	
	<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css">
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
	<!--Fonts-->
 	<link href="http://fonts.googleapis.com/css?family=Press+Start+2P&amp;subset=latin,cyrillic" rel="stylesheet" type="text/css">
	
  
 
	<title>Tree(NotWork)</title>
	<meta charset="utf-8">
	
 </head>

 <body style="">
 	<div id="tohide">
          <input id="seed" value=5 class="form-control">
		  <input id="count" value=4 class="form-control">
			<br>
			<ol id = "ope"></ol>
			<div id = "open"></div>
			<button onclick="sh()" class="btn btn-danger">LOAD</button>
        		<br>

      		</div>              	
	</div>

	<div id="toshow" class="bgm" style="display:none">
		<select id="sel" class="form-control"><option>CHOOSE:</option></select> <qwe></qwe> <span id="args"></span>    
     		 <div id="r"></div>
 <script>

	function sh(){
   		var seed = $("#seed").val();
		var count = $("#count").val();
		
		function left(s,c){
			if (c == count) {return 1*s+3}
			var ret_arr = [1*s+3,[left(1*s+3,1*c+1),right(1*s+3,1*c+1)]];
			return ret_arr;
			}
			
		function right(s,c){
			if (c == count) {return s*2}
			var ret_arr = [s*2,[left(s*2,1*c+1),right(s*2,1*c+1)]];
			return ret_arr;
			}
			
		function create_ul(array){
			$("#open").attr("id","work");
			//var al = $("#work").append('<ol></ol>').find('ol');
			$.each(array, function(key,ellem){
				if (typeof(ellem)=="object") {
					$("#work").append("<ol id = 'open'></ol>");
					$("#work").attr("id","close");
					console.log(ellem[0]+'______'+ellem[1]);
					create_ul(ellem[0]);
					create_ul(ellem[1]);
					}
				else {$("#work").append("<li>"+ellem+"</li>");}
				//else {al.append("<li>"+ellem+"</li>");}
				});
			 $("#work").attr("id","close");
			 return "end";
			}


		function create_div(array){
			$("#open").attr("id","work");
			//var al = $("#work").append('<ol></ol>').find('ol');
			$.each(array, function(key,ellem){
				console.log(key+'  '+ellem);
				if (typeof(ellem)=="object") {
					$("#work").append("<div id = 'open'></div>");
					$("#work").attr("id","close");
					//al.append("<ol id = 'open'></ol>");
					return create_div(ellem);
					}
				else {$("#work").append(ellem);}
				//else {al.append("<li>"+ellem+"</li>");}
				});
			 $("#work").attr("id","close");
			 return "end";
			}
		

		//console.log(left (seed,1));
		//console.log(right (seed,1));
		
		var mainarray = [1*seed,left (seed,1),right (seed,1)];
		console.log(mainarray)
		// then to get the JSON string
		var jsonString = JSON.stringify(mainarray);
		console.log("Строка в формате JSON:\n"+jsonString);
		
		//console.log(create_div(mainarray));
		//console.log(create_ul(mainarray));
		create_ul(mainarray);
      	};

  </script>
  </div>
  

 

</div></div></body></html>
